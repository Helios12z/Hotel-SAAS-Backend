# Module 07: Hotel Management (Partner Portal)

## Screens

| Screen | Route | Mô t? |
|--------|-------|-------|
| Hotels List | `/manage/hotels` | Danh sách hotels c?a partner |
| Hotel Detail | `/manage/hotels/[id]` | Chi ti?t & ch?nh s?a hotel |
| Add Hotel | `/manage/hotels/new` | Thêm hotel m?i |
| Hotel Settings | `/manage/hotels/[id]/settings` | Cài ??t hotel |
| Hotel Images | `/manage/hotels/[id]/images` | Qu?n lý ?nh |
| Hotel Amenities | `/manage/hotels/[id]/amenities` | Qu?n lý ti?n ích |

---

## API Endpoints

### 1. Get My Hotels
```http
GET /api/hotels/my-hotels
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "name": "Sunset Beach Resort",
      "imageUrl": "https://...",
      "city": "Da Nang",
      "country": "Vietnam",
      "starRating": 5,
      "averageRating": 4.5,
      "reviewCount": 234,
      "totalRooms": 120,
      "isActive": true,
      "isVerified": true,
      "todayStats": {
        "checkIns": 15,
        "checkOuts": 12,
        "occupancyRate": 85
      }
    }
  ]
}
```

---

### 2. Get Hotel Detail (for editing)
```http
GET /api/hotels/{id}
Authorization: Bearer {token}
```

**Response:** Full hotel detail (see Module 02)

---

### 3. Create Hotel
```http
POST /api/hotels
Authorization: Bearer {token}
```

**Request:**
```json
{
  "brandId": "uuid",
  "name": "Sunset Beach Resort",
  "description": "Luxury beachfront resort in Da Nang",
  "address": "123 Beach Road",
  "city": "Da Nang",
  "state": "",
  "country": "Vietnam",
  "postalCode": "550000",
  "latitude": 16.0544,
  "longitude": 108.2022,
  "phoneNumber": "+84-236-1234-567",
  "email": "info@sunsetbeach.com",
  "website": "https://sunsetbeach.com",
  "starRating": 5,
  "totalRooms": 120,
  "numberOfFloors": 10,
  "checkInTime": "14:00",
  "checkOutTime": "12:00",
  "cancellationPolicy": "Free cancellation up to 48 hours before check-in",
  "childPolicy": "Children under 12 stay free",
  "petPolicy": "Pets allowed with 1,250,000 VND fee",
  "smokingPolicy": "No smoking"
}
```

---

### 4. Update Hotel
```http
PUT /api/hotels/{id}
Authorization: Bearer {token}
```

**Request:** Same as create (partial update supported)

---

### 5. Upload Hotel Image
```http
POST /api/hotels/{id}/images
Authorization: Bearer {token}
Content-Type: multipart/form-data

file: [image file]
caption: "Hotel lobby"
category: "lobby" | "room" | "restaurant" | "pool" | "exterior" | "other"
isPrimary: false
```

**Response:**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "imageUrl": "https://...",
    "caption": "Hotel lobby",
    "category": "lobby",
    "isPrimary": false,
    "displayOrder": 5
  }
}
```

---

### 6. Update Image Order
```http
PUT /api/hotels/{id}/images/reorder
Authorization: Bearer {token}
```

**Request:**
```json
{
  "imageIds": ["uuid1", "uuid2", "uuid3"]
}
```

---

### 7. Delete Hotel Image
```http
DELETE /api/hotels/{id}/images/{imageId}
Authorization: Bearer {token}
```

---

### 8. Get Hotel Amenities
```http
GET /api/hotels/{id}/amenities
Authorization: Bearer {token}
```

---

### 9. Update Hotel Amenities
```http
PUT /api/hotels/{id}/amenities
Authorization: Bearer {token}
```

**Request:**
```json
{
  "amenities": [
    {
      "amenityId": "uuid",
      "isComplimentary": true,
      "additionalCost": null,
      "operatingHours": "24/7",
      "notes": "Available for all guests"
    }
  ]
}
```

---

### 10. Get All Available Amenities
```http
GET /api/amenities
```

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "name": "Free WiFi",
      "icon": "wifi",
      "type": "General",
      "description": "High-speed internet access"
    },
    {
      "id": "uuid",
      "name": "Swimming Pool",
      "icon": "pool",
      "type": "Facilities",
      "description": "Outdoor swimming pool"
    }
  ]
}
```

---

### 11. Toggle Hotel Active Status
```http
POST /api/hotels/{id}/toggle-status
Authorization: Bearer {token}
```

---

## Screen Specifications

### Hotels List Screen
```
????????????????????????????????????????????????????
?  ?? My Hotels                       [+ Add New]  ?
????????????????????????????????????????????????????
?  ?????????????????????????????????????????????? ?
?  ? ??? ? Sunset Beach Resort           ?5   ? ?
?  ?    ? Da Nang, Vietnam     ?  Active      ? ?
?  ?    ? ? 4.5 (234 reviews)                 ? ?
?  ?    ? ?????????????????????????????????   ? ?
?  ?    ? Today: 15 check-ins • 12 check-outs ? ?
?  ?    ? Occupancy: 85%                      ? ?
?  ?    ?                        [Manage ?]   ? ?
?  ?????????????????????????????????????????????? ?
?  ?????????????????????????????????????????????? ?
?  ? ??? ? Sunset City Hotel             ?4   ? ?
?  ?    ? Ho Chi Minh City     ?  Inactive    ? ?
?  ?    ? ? 4.2 (180 reviews)                 ? ?
?  ?    ? ?????????????????????????????????   ? ?
?  ?    ? Today: 0 check-ins • 0 check-outs   ? ?
?  ?    ? Occupancy: 0%                       ? ?
?  ?    ?                        [Manage ?]   ? ?
?  ?????????????????????????????????????????????? ?
????????????????????????????????????????????????????
```

### Hotel Edit Screen
```
????????????????????????????????????????????????????
?  ? Back        Sunset Beach Resort        Save   ?
????????????????????????????????????????????????????
?  [Overview] [Rooms] [Images] [Amenities] [Policies]?
????????????????????????????????????????????????????
?                                                  ?
?  ??? Basic Information ????????????????????????  ?
?  ?????????????????????????????????????????????? ?
?  ? Hotel Name *                               ? ?
?  ? Sunset Beach Resort                        ? ?
?  ?????????????????????????????????????????????? ?
?  ?????????????????????????????????????????????? ?
?  ? Description                                ? ?
?  ? Luxury beachfront resort in Da Nang...     ? ?
?  ?????????????????????????????????????????????? ?
?  ???????????????????? ????????????????????????  ?
?  ? Star Rating *    ? ? Total Rooms          ?  ?
?  ? ?????         ? ? 120                  ?  ?
?  ???????????????????? ????????????????????????  ?
?                                                  ?
?  ??? Contact Information ??????????????????????  ?
?  [Phone, Email, Website fields...]              ?
?                                                  ?
?  ??? Location ?????????????????????????????????  ?
?  [Address fields + Map picker...]               ?
?                                                  ?
?  ??? Status ???????????????????????????????????  ?
?  [?] Active - Accepting bookings                ?
?  [ ] Inactive - Hidden from search              ?
?                                                  ?
????????????????????????????????????????????????????
```

### Images Management Screen
```
????????????????????????????????????????????????????
?  ? Back          Hotel Images          [+ Upload]?
????????????????????????????????????????????????????
?  Drag to reorder • Click ? to set as primary   ?
????????????????????????????????????????????????????
?  ?????????? ?????????? ?????????? ??????????   ?
?  ?  ?    ? ?        ? ?        ? ?        ?   ?
?  ?  ???   ? ?  ???   ? ?  ???   ? ?  ???   ?   ?
?  ?        ? ?        ? ?        ? ?        ?   ?
?  ? Lobby  ? ? Pool   ? ? Room   ? ? Beach  ?   ?
?  ?  ?  ??? ? ?  ?  ??? ? ?  ?  ??? ? ?  ?  ??? ?   ?
?  ?????????? ?????????? ?????????? ??????????   ?
?  ?????????? ?????????? ??????????              ?
?  ?        ? ?        ? ?   +    ?              ?
?  ?  ???   ? ?  ???   ? ?  Add   ?              ?
?  ?        ? ?        ? ? Photo  ?              ?
?  ? Rest.  ? ? Spa    ? ?        ?              ?
?  ?  ?  ??? ? ?  ?  ??? ? ?        ?              ?
?  ?????????? ?????????? ??????????              ?
????????????????????????????????????????????????????
```

### Amenities Management Screen
```
????????????????????????????????????????????????????
?  ? Back          Hotel Amenities          Save   ?
????????????????????????????????????????????????????
?  ??? General ??????????????????????????????????  ?
?  ? ?? Free WiFi              ? Free             ?
?  ? ??? Parking                ? Free  250k VND/day?
?  ? ?? Luggage Storage        ? Free             ?
?                                                  ?
?  ??? Facilities ???????????????????????????????  ?
?  ? ?? Swimming Pool          Operating: 6AM-8PM ?
?  ? ??? Fitness Center         Operating: 24/7    ?
?  ? ?? Spa                    ? Free  1.250k+    ?
?  ? ?? Tennis Court                              ?
?                                                  ?
?  ??? Services ?????????????????????????????????  ?
?  ? ?? Breakfast              ? Free  500k/person?
?  ? ?? Airport Transfer       ? Free  750k VND   ?
?  ? ?? Room Service           Operating: 6AM-10PM?
?  ? ?? Laundry Service        ? Free  Extra fee  ?
?                                                  ?
?  ??? Business ?????????????????????????????????  ?
?  ? ?? Business Center                           ?
?  ? ?? Conference Room        Capacity: 100 pax  ?
?                                                  ?
????????????????????????????????????????????????????
```

---

## TypeScript Types

```typescript
interface HotelManagementDto {
  id: string;
  name: string;
  imageUrl?: string;
  city: string;
  country: string;
  starRating: number;
  averageRating: number;
  reviewCount: number;
  totalRooms: number;
  isActive: boolean;
  isVerified: boolean;
  todayStats: HotelDayStats;
}

interface HotelDayStats {
  checkIns: number;
  checkOuts: number;
  occupancyRate: number;
}

interface CreateHotelRequest {
  brandId: string;
  name: string;
  description?: string;
  address: string;
  city: string;
  state?: string;
  country: string;
  postalCode?: string;
  latitude?: number;
  longitude?: number;
  phoneNumber?: string;
  email?: string;
  website?: string;
  starRating: number;
  totalRooms?: number;
  numberOfFloors?: number;
  checkInTime?: string;
  checkOutTime?: string;
  cancellationPolicy?: string;
  childPolicy?: string;
  petPolicy?: string;
  smokingPolicy?: string;
}

interface HotelImageDto {
  id: string;
  imageUrl: string;
  caption?: string;
  category?: string;
  isPrimary: boolean;
  displayOrder: number;
}

interface HotelAmenityDto {
  id: string;
  amenityId: string;
  amenity: AmenityDto;
  isComplimentary: boolean;
  additionalCost?: number;
  operatingHours?: string;
  notes?: string;
}

interface AmenityDto {
  id: string;
  name: string;
  icon?: string;
  type: AmenityType;
  description?: string;
}

enum AmenityType {
  General = 0,
  Room = 1,
  Bathroom = 2,
  Kitchen = 3,
  Entertainment = 4,
  Service = 5,
  Facilities = 6
}
